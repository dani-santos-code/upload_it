{"ast":null,"code":"var _jsxFileName = \"/Users/danielesantos/Desktop/upload_it/client/src/Dashboard.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport \"react-dropzone-uploader/dist/styles.css\";\nimport Dropzone from \"react-dropzone-uploader\";\nimport \"./Dashboard.css\";\nimport { UserContext } from \"./UserContext\";\nexport default function Dashboard() {\n  const {\n    user,\n    token\n  } = useContext(UserContext);\n  const [showIcon, setShowIcon] = useState(true);\n  const [images, setImages] = useState([]);\n  useEffect(() => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", `Bearer ${token}`);\n    const requestOptions = {\n      method: \"GET\",\n      headers: myHeaders\n    };\n    fetch(\"http://127.0.0.1:3000/api/v1/images\", requestOptions).then(res => res.json()).then(res => {\n      res.binaries.forEach(img => {\n        setImages(img.data);\n      });\n    });\n  }, []);\n\n  const handleChangeStatus = ({\n    meta\n  }, status) => {\n    if (status === \"done\" || status === \"preparing\" || status === \"removing\") {\n      setShowIcon(false);\n    } else {\n      setShowIcon(true);\n    }\n  };\n\n  const uploadImage = (files, allFiles) => {\n    const filesToSubmit = files.map(f => f.file);\n    const myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", `Bearer ${token}`);\n    const formData = new FormData();\n    filesToSubmit.forEach(i => {\n      formData.append(\"upload\", i);\n    });\n    const requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: formData\n    };\n    fetch(\"http://127.0.0.1:3000/api/v1/images/me/upload\", requestOptions).then(response => {\n      console.log(response.json());\n    });\n    allFiles.forEach(f => f.remove());\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    src: \"/logo.jpg\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Dropzone, {\n    onChangeStatus: handleChangeStatus,\n    onSubmit: uploadImage,\n    maxFiles: 6,\n    inputContent: \"Add Up To 6 Files\",\n    inputWithFilesContent: \"Add More Files\",\n    submitButtonContent: \"Upload\",\n    submitButtonDisabled: false,\n    accept: \"image/*\",\n    multiple: true,\n    styles: {\n      dropzone: showIcon ? {\n        backgroundImage: `url(\"/upload.png\")`,\n        backgroundSize: \"40px\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundPosition: \"40px\"\n      } : {\n        backgroundImage: \"none\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(MainBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UserBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, user ? /*#__PURE__*/React.createElement(UserAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, user.name[0]) : /*#__PURE__*/React.createElement(UserAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"?\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"Nothing yet\")), /*#__PURE__*/React.createElement(GalleryBg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  })));\n}\nconst Logo = styled.img`\n  width: 170px;\n  height: 120px;\n  align-self: center;\n  margin-bottom: 40px;\n`;\nconst Wrapper = styled.div`\n  margin-top: 40px;\n  display: flex;\n  flex-direction: column;\n`;\nconst MainBody = styled.div`\n  background: rgba(210, 233, 233, 0.42);\n`;\nconst UserBar = styled.div`\n  width: 100%;\n  height: 40px;\n  background-color: #00708c;\n  position: relative;\n`;\nconst UserAvatar = styled.div`\n  width: 30px;\n  height: 30px;\n  top: 5px;\n  right: 60px;\n  font-weight: bold;\n  font-size: 13px;\n  line-height: 30px;\n  text-align: center;\n  color: #ffffff;\n  position: absolute;\n  background-color: rgba(4, 255, 255, 0.42);\n  border-radius: 50px;\n`;\nconst GalleryBg = styled.div`\n  background: url(\"/cactus.png\") no-repeat;\n  background-size: 200px;\n  background-position: center;\n  min-height: 100vh;\n`;","map":{"version":3,"sources":["/Users/danielesantos/Desktop/upload_it/client/src/Dashboard.js"],"names":["React","useContext","useState","useEffect","styled","Dropzone","UserContext","Dashboard","user","token","showIcon","setShowIcon","images","setImages","myHeaders","Headers","append","requestOptions","method","headers","fetch","then","res","json","binaries","forEach","img","data","handleChangeStatus","meta","status","uploadImage","files","allFiles","filesToSubmit","map","f","file","formData","FormData","i","body","response","console","log","remove","dropzone","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","name","Logo","Wrapper","div","MainBody","UserBar","UserAvatar","GalleryBg"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport \"react-dropzone-uploader/dist/styles.css\";\nimport Dropzone from \"react-dropzone-uploader\";\nimport \"./Dashboard.css\";\nimport { UserContext } from \"./UserContext\";\n\nexport default function Dashboard() {\n  const { user, token } = useContext(UserContext);\n  const [showIcon, setShowIcon] = useState(true);\n  const [images, setImages] = useState([]);\n  useEffect(() => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", `Bearer ${token}`);\n    const requestOptions = {\n      method: \"GET\",\n      headers: myHeaders,\n    };\n    fetch(\"http://127.0.0.1:3000/api/v1/images\", requestOptions)\n      .then((res) => res.json())\n      .then((res) => {\n        res.binaries.forEach((img) => {\n          setImages(img.data);\n        });\n      });\n  }, []);\n\n  const handleChangeStatus = ({ meta }, status) => {\n    if (status === \"done\" || status === \"preparing\" || status === \"removing\") {\n      setShowIcon(false);\n    } else {\n      setShowIcon(true);\n    }\n  };\n  const uploadImage = (files, allFiles) => {\n    const filesToSubmit = files.map((f) => f.file);\n    const myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", `Bearer ${token}`);\n    const formData = new FormData();\n    filesToSubmit.forEach((i) => {\n      formData.append(\"upload\", i);\n    });\n\n    const requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: formData,\n    };\n    fetch(\"http://127.0.0.1:3000/api/v1/images/me/upload\", requestOptions).then(\n      (response) => {\n        console.log(response.json());\n      }\n    );\n    allFiles.forEach((f) => f.remove());\n  };\n\n  return (\n    <>\n      <Wrapper>\n        <Logo src=\"/logo.jpg\" alt=\"logo\" />\n        <Dropzone\n          onChangeStatus={handleChangeStatus}\n          onSubmit={uploadImage}\n          maxFiles={6}\n          inputContent={\"Add Up To 6 Files\"}\n          inputWithFilesContent={\"Add More Files\"}\n          submitButtonContent={\"Upload\"}\n          submitButtonDisabled={false}\n          accept=\"image/*\"\n          multiple={true}\n          styles={{\n            dropzone: showIcon\n              ? {\n                  backgroundImage: `url(\"/upload.png\")`,\n                  backgroundSize: \"40px\",\n                  backgroundRepeat: \"no-repeat\",\n                  backgroundPosition: \"40px\",\n                }\n              : { backgroundImage: \"none\" },\n          }}\n        />\n      </Wrapper>\n      <MainBody>\n        <UserBar>\n          {user ? (\n            <UserAvatar>{user.name[0]}</UserAvatar>\n          ) : (\n            <UserAvatar>?</UserAvatar>\n          )}\n        </UserBar>\n        <div>\n          <p>Nothing yet</p>\n          {/* {images && (\n            <img\n              src={`data:image/jpeg;base64,${btoa(\n                String.fromCharCode(...new Uint8Array(images))\n              )}`}\n              alt=\"user pic\"\n            />\n          )} */}\n        </div>\n        <GalleryBg></GalleryBg>\n      </MainBody>\n    </>\n  );\n}\n\nconst Logo = styled.img`\n  width: 170px;\n  height: 120px;\n  align-self: center;\n  margin-bottom: 40px;\n`;\nconst Wrapper = styled.div`\n  margin-top: 40px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst MainBody = styled.div`\n  background: rgba(210, 233, 233, 0.42);\n`;\nconst UserBar = styled.div`\n  width: 100%;\n  height: 40px;\n  background-color: #00708c;\n  position: relative;\n`;\nconst UserAvatar = styled.div`\n  width: 30px;\n  height: 30px;\n  top: 5px;\n  right: 60px;\n  font-weight: bold;\n  font-size: 13px;\n  line-height: 30px;\n  text-align: center;\n  color: #ffffff;\n  position: absolute;\n  background-color: rgba(4, 255, 255, 0.42);\n  border-radius: 50px;\n`;\n\nconst GalleryBg = styled.div`\n  background: url(\"/cactus.png\") no-repeat;\n  background-size: 200px;\n  background-position: center;\n  min-height: 100vh;\n`;\n"]},"metadata":{},"sourceType":"module"}